{"version":3,"sources":["components/ImageGalleryItem/ImageGalleryItem.module.css","components/Modal/Modal.module.css","components/Button/Button.module.css","components/ImageGallery/ImageGallery.module.css","components/Searchbar/SearchBar.module.css","components/Searchbar/SearchBar.js","components/Modal/Modal.js","components/ImageGalleryItem/ImageGalleryItem.js","components/ImageGallery/ImageGallery.js","components/Loader/Loader.js","components/Button/Button.js","components/pixabayApi.js","components/Error/Error.js","App.js","index.js"],"names":["module","exports","SearchBar","onSubmit","useState","queryValue","setQueryValue","className","s","Searchbar","SearchForm","evt","preventDefault","trim","toast","type","SearchForm__button","SearchForm__button__label","SearchForm__input","autoComplete","autoFocus","value","placeholder","onChange","e","currentTarget","toLowerCase","modalRoot","document","querySelector","Modal","handleKeyDown","code","props","onClose","handleBackdropClick","target","window","addEventListener","this","removeEventListener","src","alt","createPortal","Overlay","onClick","Component","ImageGalleryItem","largeImageUrl","showModal","setShowModal","toggleModal","ShowModal","ImageGalleryItemImage","ImageGallery","pictures","map","picture","webformatURL","tags","largeImageURL","id","LoaderPend","color","height","width","Button","scroll","onLoadMore","scrollToBottom","Button__label","api","fetchPictures","page","url","fetch","then","response","ok","json","Promise","reject","Error","message","role","Status","App","setPictures","error","setError","setPage","status","setStatus","useEffect","pixabayApi","hits","catch","autoClose","Loader","prevState","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.25771c62.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__-6QZi\",\"ImageGalleryItem__image\":\"ImageGalleryItem_ImageGalleryItem__image__1FKGI\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__1--KP\",\"Modal\":\"Modal_Modal__3lFdW\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__1ODLc\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__1LE4m\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"SearchBar_Searchbar__2QXGI\",\"SearchForm\":\"SearchBar_SearchForm__3D7cb\",\"SearchForm__input\":\"SearchBar_SearchForm__input__3CRtb\",\"SearchForm__button\":\"SearchBar_SearchForm__button__1iJr6\",\"SearchForm__button__label\":\"SearchBar_SearchForm__button__label__3rO_J\"};","import {useState } from 'react';\r\nimport { toast } from 'react-toastify';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\nimport s from './SearchBar.module.css';\r\n\r\nexport default function SearchBar({onSubmit}) {\r\n    const[queryValue, setQueryValue] = useState('')\r\n\r\n   const handleRequestChange = e =>  {\r\n    setQueryValue(e.currentTarget.value.toLowerCase())\r\n   } \r\n\r\n   const handleOnSubmit = evt => {\r\n    evt.preventDefault();\r\n    if(queryValue.trim()==='') {\r\n        return toast('Input your request');\r\n        \r\n    }\r\n    onSubmit(queryValue);\r\n    setQueryValue('');\r\n}\r\n\r\n// handleOnSubmit = evt => {\r\n//     evt.preventDefault();\r\n//     if(this.state.queryValue.trim()==='') {\r\n//         return toast('Input your request');\r\n        \r\n//     }\r\n//     this.props.onSubmit(this.state.queryValue);\r\n//     this.setState({queryValue: ''});\r\n// }\r\n\r\n    return(\r\n        <header className={s.Searchbar}>\r\n            <form className={s.SearchForm} onSubmit={handleOnSubmit}>\r\n                <button type=\"submit\" className={s.SearchForm__button}>\r\n                    <span className={s.SearchForm__button__label}>Search</span>\r\n                </button>\r\n                <input\r\n                className={s.SearchForm__input}\r\n                type=\"text\"\r\n                autoComplete=\"off\"\r\n                autoFocus\r\n                value={queryValue}\r\n                placeholder=\"Search images and photos\"\r\n                onChange={handleRequestChange}\r\n                />\r\n            </form>\r\n        </header>\r\n    )\r\n}\r\n","import s from './Modal.module.css';\r\nimport React, {Component} from 'react';\r\nimport {createPortal} from 'react-dom'\r\n\r\nconst modalRoot = document.querySelector('#modal-root') \r\n\r\n class Modal extends Component {\r\n     \r\ncomponentDidMount() {\r\n    window.addEventListener('keydown', this.handleKeyDown)\r\n};\r\n\r\ncomponentWillUnmount() {\r\n    window.removeEventListener('keydown', this.handleKeyDown)\r\n};\r\n\r\nhandleKeyDown = e => {\r\nif(e.code === 'Escape'){\r\n this.props.onClose()\r\n}\r\n}\r\n\r\nhandleBackdropClick = e => {\r\n    if(e.currentTarget === e.target) {\r\n        this.props.onClose()\r\n    }\r\n}\r\nrender() {\r\n    const { src, alt } = this.props;\r\n    \r\n    return createPortal(\r\n        <div className={s.Overlay} onClick={this.handleBackdropClick}>\r\n            <div className={s.Modal}>\r\n                <img src={src} alt={alt} />\r\n            </div>\r\n        </div>, \r\n        modalRoot,\r\n    )\r\n}\r\n}\r\n\r\nexport default Modal","import s from './ImageGalleryItem.module.css'\r\nimport { useState} from 'react'\r\nimport Modal from '../Modal'\r\n\r\nexport default function ImageGalleryItem({ src, alt, largeImageUrl }) {\r\n  const[showModal, setShowModal] = useState(false)\r\n  \r\n  const toggleModal = () => {\r\n    setShowModal(ShowModal => !ShowModal )\r\n  }\r\n\r\n    return (\r\n      <li className={s.ImageGalleryItem}>\r\n      <img\r\n        onClick={toggleModal}\r\n        src={src}\r\n        alt={alt}\r\n        className={s.ImageGalleryItemImage}\r\n      />\r\n      {showModal && (\r\n        <Modal onClose={toggleModal} src={largeImageUrl} alt={alt} />\r\n      )}\r\n      </li>\r\n    );\r\n}\r\n\r\n  ","import s from './ImageGallery.module.css';\r\nimport ImageGalleryItem from '../ImageGalleryItem'\r\n\r\nexport default function ImageGallery({pictures}) {\r\n\r\n    return(\r\n        <ul className={s.ImageGallery}>\r\n            {pictures.map((picture) => (\r\n                <ImageGalleryItem\r\n                key={picture.id}\r\n                src={picture.webformatURL}\r\n                alt={picture.tags}\r\n                largeImageUrl={picture.largeImageURL}\r\n                />\r\n            ))}\r\n        </ul>\r\n    )\r\n}\r\n","import Loader from \"react-loader-spinner\";\r\n\r\nconst LoaderPend = () => {\r\nreturn (\r\n    <Loader type=\"ThreeDots\" color=\"#3f51b5\" height={80} width={80} />\r\n  )\r\n}\r\n\r\nexport default LoaderPend\r\n\r\n","import s from './Button.module.css'\r\nimport React, { Component } from 'react';\r\nimport { animateScroll as scroll } from 'react-scroll';\r\nimport PropTypes from 'prop-types';\r\n\r\nclass Button extends Component {\r\n\r\n  static propTypes = {\r\n    onLoadMore: PropTypes.func.isRequired,\r\n  };\r\n\r\n  scroll = () => {\r\n    this.props.onLoadMore();\r\n    scroll.scrollToBottom();\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <button onClick={this.scroll} className={s.Button} type=\"button\">\r\n        <span className={s.Button__label}>Load more</span>\r\n      </button>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Button;\r\n","const API_KEY = '23041177-0c0b450b7629b324f32016842';\r\nconst BASE_URL = 'https://pixabay.com/api/';\r\n\r\nfunction fetchPictures(value, page) {\r\n  const url = `${BASE_URL}?q=${value}&page=${page}&key=${API_KEY}&image_type=photo&orientation=horizontal&per_page=12`;\r\n  return fetch(url)\r\n  .then(response => {\r\n    // if(response)\r\n    if (response.ok) {\r\n      return response.json();\r\n    }\r\n  return Promise.reject(\r\n    new Error(`Nothing found for the your request ${value}`)\r\n    );\r\n  });\r\n}\r\n\r\nconst api = { fetchPictures };\r\nexport default api \r\n","import PropTypes from 'prop-types'\r\n\r\nconst Error = ({message}) => {\r\n    return (\r\n        <div role=\"alert\">\r\n          <p>Whoops, something went wrong. Error: {message}</p>\r\n        </div>\r\n      );\r\n    }\r\n    \r\n    Error.propTypes = {\r\n      message: PropTypes.string.isRequired,\r\n    };\r\n\r\n    export default Error","import './App.css';\nimport {useState, useEffect} from 'react'\nimport { ToastContainer } from 'react-toastify';\nimport SearchBar from './components/Searchbar'\nimport ImageGallery from './components/ImageGallery'\n// import Modal from './components/Modal'\nimport LoaderPend from \"./components/Loader\";\nimport Button from './components/Button'\nimport pixabayApi from './components/pixabayApi';\nimport Error from './components/Error'\n\nconst Status ={\n  IDLE: 'idle',\n  PENDING: 'pending',\n  RESOLVED: 'resolved',\n  REJECTED: 'rejected'\n};\n\nexport default function App() {\n  const [pictures, setPictures] = useState([]);\n  const [error, setError] = useState(null);\n  const [queryValue, setQueryValue] = useState('');\n  const [page, setPage] = useState(1);\n  const [status, setStatus] = useState(Status.IDLE);\n\n  const handleSearchOnSubmit= value => {\n    setQueryValue(value);\n    setPage(1);\n    setPictures([]);\n  }\n\n  useEffect(() => {\n    if(!queryValue) { \n      return\n     }\n  // const renderPictures = () => {\n    setStatus(Status.PENDING);\n\n      pixabayApi\n        .fetchPictures(queryValue, page)\n        .then(response => {\n          setPictures(pictures=>[...pictures, ...response.hits]);\n          setStatus(Status.RESOLVED)\n          })\n        .catch(error => {\n          setError(error);\n          setStatus(Status.REJECTED)\n        })\n    \n        // renderPictures();\n    }, [queryValue, page]);\n\n    const onLoadMore = () => {\n      setPage(prevState => prevState + 1);\n    };\n\n    return (\n      <div className=\"App\">\n        <SearchBar onSubmit={handleSearchOnSubmit}/>\n        <ToastContainer autoClose={3000} />\n      \n        {status === 'idle'&& (\n          <p className=\"welcomeText\" >Input your query</p> )\n        }\n  \n        {status === 'pending' && (<LoaderPend/>)  \n        }\n  \n        {status === 'rejected' && (\n            <Error message={error.message}/>)\n        }\n  \n        {status === 'resolved' && (\n          <>  \n            <ImageGallery \n              pictures={pictures}\n              // onOpen={ this.takeLargePicture}\n            /> \n            <Button onLoadMore={onLoadMore} />\n          </>)}\n      </div>\n    );\n}\n\n\n\n// class App extends PureComponent {\n// state= {\n//   error: null,\n//   queryValue: '',\n//   pictures:[],\n//   page:1,\n//   status: 'idle'\n// }\n// // shouldComponentUpdate(nextProps, nextState) {\n// //   return nextState.state.id !== this.state.id\n// // }\n// handleSearchOnSubmit= value => {\n//   // console.log('queryValue:', value)\n//   this.setState({queryValue: value,\n//     page:1, pictures:[]})\n//   };\n  \n// componentDidUpdate(prevProps, prevState) {\n//   const prevValue = prevState.queryValue ;\n//   const nextValue = this.state.queryValue;\n//       if(prevValue !== nextValue ) {\n//           // || prevState.page !== this.state.page\n//           this.setState({ status: 'pending'});\n//           this.renderPictures();\n//   }\n// }\n\n// renderPictures = () => {\n//   const { page, queryValue } = this.state;\n\n//   pixabayApi.fetchPictures(queryValue, page)\n//     .then(response =>\n//       this.setState(prevState => ({ \n//           pictures: [...prevState.pictures, ...response.hits],\n//           page: prevState.page + 1,\n//           status: 'resolved'\n//        }))\n//     )\n//     .catch(error => this.setState({ error,  status: 'rejected'}))\n// };\n\n// render() {\n//   const { pictures, error, status} = this.state;\n//   // const{onOpen} = this.props\n\n//   return (\n//     <div className=\"App\">\n//       <SearchBar onSubmit={this.handleSearchOnSubmit}/>\n//       <ToastContainer autoClose={3000} />\n    \n//       {status === 'idle'&& (\n//         <p className=\"welcomeText\" >Input your query</p> )\n//       }\n\n//       {status === 'pending' && (<LoaderPend/>)  \n//       }\n\n//       {status === 'rejected' && (\n//           <Error message={error.message}/>)\n//       }\n\n//       {status === 'resolved' && (\n//         <>  \n//           <ImageGallery \n//             pictures={pictures}\n//             // onOpen={ this.takeLargePicture}\n//           /> \n//           <Button onLoadMore={this.renderPictures} />\n//         </>)}\n//     </div>\n//   );\n//   }\n// }\n\n\n\n// export default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}