(this["webpackJsonpgoit-react-hw-04-hooks-images"]=this["webpackJsonpgoit-react-hw-04-hooks-images"]||[]).push([[0],{20:function(e,t,a){e.exports={ImageGalleryItem:"ImageGalleryItem_ImageGalleryItem__-6QZi",ImageGalleryItem__image:"ImageGalleryItem_ImageGalleryItem__image__1FKGI"}},21:function(e,t,a){e.exports={Overlay:"Modal_Overlay__1--KP",Modal:"Modal_Modal__3lFdW"}},22:function(e,t,a){e.exports={Button:"Button_Button__1ODLc"}},27:function(e,t,a){e.exports={ImageGallery:"ImageGallery_ImageGallery__1LE4m"}},34:function(e,t,a){},35:function(e,t,a){},5:function(e,t,a){e.exports={Searchbar:"SearchBar_Searchbar__2QXGI",SearchForm:"SearchBar_SearchForm__3D7cb",SearchForm__input:"SearchBar_SearchForm__input__3CRtb",SearchForm__button:"SearchBar_SearchForm__button__1iJr6",SearchForm__button__label:"SearchBar_SearchForm__button__label__3rO_J"}},66:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),c=a(4),o=a.n(c),s=(a(34),a(23)),l=a(3),i=(a(35),a(13)),u=(a(36),a(5)),j=a.n(u),m=a(1);function b(e){var t=e.onSubmit,a=Object(r.useState)(""),n=Object(l.a)(a,2),c=n[0],o=n[1];return Object(m.jsx)("header",{className:j.a.Searchbar,children:Object(m.jsxs)("form",{className:j.a.SearchForm,onSubmit:function(e){if(e.preventDefault(),""===c.trim())return Object(i.b)("Input your request");t(c),o("")},children:[Object(m.jsx)("button",{type:"submit",className:j.a.SearchForm__button,children:Object(m.jsx)("span",{className:j.a.SearchForm__button__label,children:"Search"})}),Object(m.jsx)("input",{className:j.a.SearchForm__input,type:"text",autoComplete:"off",autoFocus:!0,value:c,placeholder:"Search images and photos",onChange:function(e){o(e.currentTarget.value.toLowerCase())}})]})})}var h=a(27),d=a.n(h),_=a(20),p=a.n(_),O=a(10),f=a(11),g=a(14),y=a(12),x=a(21),v=a.n(x),S=document.querySelector("#modal-root"),I=function(e){Object(g.a)(a,e);var t=Object(y.a)(a);function a(){var e;Object(O.a)(this,a);for(var r=arguments.length,n=new Array(r),c=0;c<r;c++)n[c]=arguments[c];return(e=t.call.apply(t,[this].concat(n))).handleKeyDown=function(t){"Escape"===t.code&&e.props.onClose()},e.handleBackdropClick=function(t){t.currentTarget===t.target&&e.props.onClose()},e}return Object(f.a)(a,[{key:"componentDidMount",value:function(){window.addEventListener("keydown",this.handleKeyDown)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("keydown",this.handleKeyDown)}},{key:"render",value:function(){var e=this.props,t=e.src,a=e.alt;return Object(c.createPortal)(Object(m.jsx)("div",{className:v.a.Overlay,onClick:this.handleBackdropClick,children:Object(m.jsx)("div",{className:v.a.Modal,children:Object(m.jsx)("img",{src:t,alt:a})})}),S)}}]),a}(r.Component),w=I;function k(e){var t=e.src,a=e.alt,n=e.largeImageUrl,c=Object(r.useState)(!1),o=Object(l.a)(c,2),s=o[0],i=o[1],u=function(){i((function(e){return!e}))};return Object(m.jsxs)("li",{className:p.a.ImageGalleryItem,children:[Object(m.jsx)("img",{onClick:u,src:t,alt:a,className:p.a.ImageGalleryItemImage}),s&&Object(m.jsx)(w,{onClose:u,src:n,alt:a})]})}function F(e){var t=e.pictures;return Object(m.jsx)("ul",{className:d.a.ImageGallery,children:t.map((function(e){return Object(m.jsx)(k,{src:e.webformatURL,alt:e.tags,largeImageUrl:e.largeImageURL},e.id)}))})}var C=a(28),N=a.n(C),B=function(){return Object(m.jsx)(N.a,{type:"ThreeDots",color:"#3f51b5",height:80,width:80})},G=a(22),L=a.n(G),M=a(29),D=function(e){Object(g.a)(a,e);var t=Object(y.a)(a);function a(){var e;Object(O.a)(this,a);for(var r=arguments.length,n=new Array(r),c=0;c<r;c++)n[c]=arguments[c];return(e=t.call.apply(t,[this].concat(n))).scroll=function(){e.props.onLoadMore(),M.animateScroll.scrollToBottom()},e}return Object(f.a)(a,[{key:"render",value:function(){return Object(m.jsx)("button",{onClick:this.scroll,className:L.a.Button,type:"button",children:Object(m.jsx)("span",{className:L.a.Button__label,children:"Load more"})})}}]),a}(r.Component),E=D;var q={fetchPictures:function(e,t){var a="".concat("https://pixabay.com/api/","?q=").concat(e,"&page=").concat(t,"&key=").concat("23041177-0c0b450b7629b324f32016842","&image_type=photo&orientation=horizontal&per_page=12");return fetch(a).then((function(t){return t.ok?t.json():Promise.reject(new Error("Nothing found for the your request ".concat(e)))}))}},K=function(e){var t=e.message;return Object(m.jsx)("div",{role:"alert",children:Object(m.jsxs)("p",{children:["Whoops, something went wrong. Error: ",t]})})},P="idle",T="pending",U="resolved",J="rejected";function A(){var e=Object(r.useState)([]),t=Object(l.a)(e,2),a=t[0],n=t[1],c=Object(r.useState)(null),o=Object(l.a)(c,2),u=o[0],j=o[1],h=Object(r.useState)(""),d=Object(l.a)(h,2),_=d[0],p=d[1],O=Object(r.useState)(1),f=Object(l.a)(O,2),g=f[0],y=f[1],x=Object(r.useState)(P),v=Object(l.a)(x,2),S=v[0],I=v[1];Object(r.useEffect)((function(){_&&(I(T),q.fetchPictures(_,g).then((function(e){n((function(t){return[].concat(Object(s.a)(t),Object(s.a)(e.hits))})),I(U)})).catch((function(e){j(e),I(J)})))}),[_,g]);return Object(m.jsxs)("div",{className:"App",children:[Object(m.jsx)(b,{onSubmit:function(e){p(e),y(1),n([])}}),Object(m.jsx)(i.a,{autoClose:3e3}),"idle"===S&&Object(m.jsx)("p",{className:"welcomeText",children:"Input your query"}),"pending"===S&&Object(m.jsx)(B,{}),"rejected"===S&&Object(m.jsx)(K,{message:u.message}),"resolved"===S&&Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(F,{pictures:a}),Object(m.jsx)(E,{onLoadMore:function(){y((function(e){return e+1}))}})]})]})}o.a.render(Object(m.jsx)(n.a.StrictMode,{children:Object(m.jsx)(A,{})}),document.getElementById("root"))}},[[66,1,2]]]);
//# sourceMappingURL=main.1f25411f.chunk.js.map